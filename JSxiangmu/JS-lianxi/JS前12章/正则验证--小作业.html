<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script src="https://cdn.bootcss.com/jquery/2.1.2/jquery.min.js"></script>
		<!--<script src="../js/a.js"></script>-->
		<script src="../js/公共.js"></script>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			.a{
				width: 500px;
				height: 400px;
				border: 1px solid red;
				margin: 0 auto;
			}
			.a p{
				margin-top: 20px;
			}
			.a p input{
				width: 200px;
				height: 35px;
				padding-left: 10px;
				box-sizing: border-box;
			}
			.a p span{
				color: red;
			}
			.a p .kuan {
				/*设置字体间的间距*/
				letter-spacing: 1em;
				color: #000;
			}
			.a button{
				width: 80px;
				height: 30px;
			}
		</style>
	</head>
	<body>
		<div class="a">
			<p>手机号：<input type="text" id="sjh" value=""/><span class="tishi yi"></span></p>
			<p>身份证：<input type="text" id="sfz" /><span class="tishi er"></span></p>
			<p><span class="kuan">邮</span>箱：<input type="text" id="yx"/><span  class="tishi san"></span></p>
			<p><span class="kuan">网</span>址：<input type="text" id="wz"/><span class="tishi si"></span></p>
			<p><button>提交</button> <button id="reset">重置</button></p>
		</div>
		
		<script>
			//调用封装好的函数
			$('#sjh').on('input',function(){
				var sjhval = $(this).val()
				var a = shouJiHao(sjhval)
				if(!a){
					$('.yi').show().text('请输入以1开头的11位电话号')
				}else{
					$('.yi').show().text('')
				}
			})
			
			//手机号验证两种方式
			//使用on监控
//			$('#sjh').on('input',function(){
//				var sjhval = $(this).val()
//				if(sjhval!=''){
//					var sjh = /^[1][3,5][0-9]{9}/g
//					var shouji = sjh.test(sjhval)
//					if(!shouji){
//						$('.yi').show().text('请输入以1开头的11位电话号')
//					}else{
//						$('.yi').show().text('')
//					}
//				}
//			})
		//第二种手机号验证	
//			$('#sjh').blur(function(){
//				var sjhval = $(this).val()
//				if(sjhval!=''){
//					var sjh = /^[1][3,5][0-9]{9}/g
//					var shouji = sjh.test(sjhval)
//					if(!shouji){
//						$('.yi').show().text('请输入以1开头的11位电话号')
//						$(this).focus(function(){
//							$('.yi').text('')
//						})
//					}
//				}
//			})
			
			$('#sfz').blur(function(){
				var sfzval = $(this).val()
				if(sfzval!=''){
					var sfz = /^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/;
					var shenfen = sfz.test(sfzval)
					if(!shenfen){
						$('.er').show().text('输入格式不正确')
						$(this).focus(function(){
							$('.er').text('')
						})
					}
				}
			})
			$('#yx').blur(function(){
				var yxval = $(this).val()
				if(yxval!=''){
					var email = /^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/
					var yx = email.test(yxval)
					if(!yx){
						$('.san').show().text('邮箱带有@和.')
						$(this).focus(function(){
							$('.san').text('')
						})
					}
				}
			})
			$('#wz').blur(function(){
				var wzval = $(this).val()
				if(wzval!=''){
					var wang = /^((https?|ftp|file):\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/
					var wz = wang.test(wzval)
					if(!wz){
						$('.si').show().text('https://123.com')
						$(this).focus(function(){
							$('.si').text('')
						})
					}
				}
			})
			
			$('#reset').click(function(){
				$("input[ type='text' ]").val('')
				$('.tishi').hide()
			})
		</script>
	</body>
</html>
